<!-- item_details.html -->
<div>
    <h1>{{ item.website_name }}</h1>
    <p>Username: {{ item.username }}</p>
    <button class="copy-button" data-password="{{ item.username }}" 
        style="background-color: white;" >Copy Username
    </button>
    <p>Password: {{ item.password }}</p>
    <button class="copy-button" data-password="{{ item.password }}"
        style="background-color: white;">Copy Password
    </button>
    <p>Notes: {{ item.notes }}</p>

    <div>
        <a href="{{ url_for('main.edit_item', item_id=item.id) }}" class="edit-button">
            <button style="background-color: blue; color: white;" >Edit</button>

        </a>
    </div>
    <br>
    <form action="{{ url_for('main.delete_item', item_id = item.id) }}" method="post">
        <input type="submit" value="Delete" style="background-color: white; color: red;"
        onclick="return confirm('Are you sure you want to delete this item?')">
    </form>   
</div>
<script>
    // Add an event listener to the "Copy Password" button
    const copyButtons = document.querySelectorAll('.copy-button');
    copyButtons.forEach(button => {
        button.addEventListener('click', () => {
            // Get the password from the button's data attribute
            const password = button.getAttribute('data-password');
            const username = button.getAttribute('data-username');

            // Create a temporary text area to copy the password
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = password;
            document.body.appendChild(tempTextArea);
            
            // Select the text and copy it to the clipboard
            tempTextArea.select();
            document.execCommand('copy');
            
            // Remove the temporary text area
            document.body.removeChild(tempTextArea);
            
        });
    });
</script>

